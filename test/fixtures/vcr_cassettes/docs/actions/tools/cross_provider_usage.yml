---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/responses
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o","input":"What''s the weather?","tools":[{"type":"function","name":"get_weather","description":"Get
        current weather for a location","parameters":{"type":"object","properties":{"location":{"type":"string","description":"City
        and state"},"unit":{"type":"string","enum":["celsius","fahrenheit"]}},"required":["location"]}}]}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.35.1
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.35.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.7
      Content-Type:
      - application/json
      Openai-Organization:
      - ORGANIZATION_ID
      Openai-Project:
      - PROJECT_ID
      Authorization:
      - Bearer ACCESS_TOKEN
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '337'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 19 Nov 2025 18:18:33 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '30000000'
      X-Ratelimit-Remaining-Requests:
      - '9999'
      X-Ratelimit-Remaining-Tokens:
      - '29999725'
      X-Ratelimit-Reset-Requests:
      - 6ms
      X-Ratelimit-Reset-Tokens:
      - 0s
      Openai-Version:
      - '2020-10-01'
      Openai-Organization:
      - ORGANIZATION_ID
      Openai-Project:
      - PROJECT_ID
      X-Request-Id:
      - req_8513283bef2e4a1faf08f9d91b8debdb
      Openai-Processing-Ms:
      - '1782'
      X-Envoy-Upstream-Service-Time:
      - '1786'
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=k_pHGl_NaO7cz7cXFUH461e6R3jh2QlExmfoMdyRMmY-1763576313-1.0.1.1-xomS.7WXMfUlaxu8GUfrYZdZg0W8_vsG_PHcWjzvSAKpDctb1ztMqMDCNpoCmhmLYmbFcAYL8Q5S2zkKRSCMF6HYj0I4G_Wyf6uQAHBKrmw;
        path=/; expires=Wed, 19-Nov-25 18:48:33 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=AFN0qelmGZnujGNMi3.dkE6SkuXAnw1oMNw8lM_.AAY-1763576313407-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9a11b5e6d9ba67fb-SJC
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "id": "resp_0bc6fad39e50a44b00691e09f79f44819b8a01809fe1c1e1e1",
          "object": "response",
          "created_at": 1763576311,
          "status": "completed",
          "background": false,
          "billing": {
            "payer": "developer"
          },
          "error": null,
          "incomplete_details": null,
          "instructions": null,
          "max_output_tokens": null,
          "max_tool_calls": null,
          "model": "gpt-4o-2024-08-06",
          "output": [
            {
              "id": "msg_0bc6fad39e50a44b00691e09f8d6bc819bb5b189268456efea",
              "type": "message",
              "status": "completed",
              "content": [
                {
                  "type": "output_text",
                  "annotations": [],
                  "logprobs": [],
                  "text": "Could you please specify the location for which you'd like to know the weather?"
                }
              ],
              "role": "assistant"
            }
          ],
          "parallel_tool_calls": true,
          "previous_response_id": null,
          "prompt_cache_key": null,
          "prompt_cache_retention": null,
          "reasoning": {
            "effort": null,
            "summary": null
          },
          "safety_identifier": null,
          "service_tier": "default",
          "store": true,
          "temperature": 1.0,
          "text": {
            "format": {
              "type": "text"
            },
            "verbosity": "medium"
          },
          "tool_choice": "auto",
          "tools": [
            {
              "type": "function",
              "description": "Get current weather for a location",
              "name": "get_weather",
              "parameters": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "City and state"
                  },
                  "unit": {
                    "type": "string",
                    "enum": [
                      "celsius",
                      "fahrenheit"
                    ]
                  }
                },
                "required": [
                  "location",
                  "unit"
                ],
                "additionalProperties": false
              },
              "strict": true
            }
          ],
          "top_logprobs": 0,
          "top_p": 1.0,
          "truncation": "disabled",
          "usage": {
            "input_tokens": 58,
            "input_tokens_details": {
              "cached_tokens": 0
            },
            "output_tokens": 17,
            "output_tokens_details": {
              "reasoning_tokens": 0
            },
            "total_tokens": 75
          },
          "user": null,
          "metadata": {}
        }
  recorded_at: Wed, 19 Nov 2025 18:18:33 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-sonnet-4-20250514","messages":[{"content":"What''s
        the weather?","role":"user"}],"tools":[{"input_schema":{"type":"object","properties":{"location":{"type":"string","description":"City
        and state"},"unit":{"type":"string","enum":["celsius","fahrenheit"]}},"required":["location"]},"name":"get_weather","description":"Get
        current weather for a location"}],"max_tokens":4096}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - Anthropic::Client/Ruby 1.14.0
      Host:
      - api.anthropic.com
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 1.14.0
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.7
      Content-Type:
      - application/json
      Anthropic-Version:
      - '2023-06-01'
      X-Api-Key:
      - ACCESS_TOKEN
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '388'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 19 Nov 2025 18:18:36 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '2000000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '2000000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-11-19T18:18:35Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '400000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-11-19T18:18:36Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-11-19T18:18:33Z'
      Retry-After:
      - '25'
      Anthropic-Ratelimit-Tokens-Limit:
      - '2400000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '2400000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-11-19T18:18:35Z'
      Request-Id:
      - req_011CVHi3YRg6Ci88kiLM46kE
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - 2557c2f2-bcfa-4054-9fa8-ae13b3b47d6b
      X-Envoy-Upstream-Service-Time:
      - '2614'
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - 9a11b5f74c88bffc-SJC
    body:
      encoding: ASCII-8BIT
      string: '{"model":"claude-sonnet-4-20250514","id":"msg_01SX7S6wKVyFVdm4hPJ4Mbjc","type":"message","role":"assistant","content":[{"type":"text","text":"I''d
        be happy to help you get the weather information! However, I need to know
        which location you''d like the weather for. Could you please tell me the city
        and state (or city and country) you''re interested in?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":407,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":50,"service_tier":"standard"}}'
  recorded_at: Wed, 19 Nov 2025 18:18:36 GMT
- request:
    method: post
    uri: http://127.0.0.1:11434/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"qwen3:latest","messages":[{"role":"user","content":"What''s
        the weather?"}],"tools":[{"type":"function","function":{"name":"get_weather","description":"Get
        current weather for a location","parameters":{"type":"object","properties":{"location":{"type":"string","description":"City
        and state"},"unit":{"type":"string","enum":["celsius","fahrenheit"]}},"required":["location"]}}}]}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.35.1
      Host:
      - 127.0.0.1:11434
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.35.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.7
      Content-Type:
      - application/json
      Authorization:
      - Bearer ollama
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '387'
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Wed, 19 Nov 2025 18:18:45 GMT
      Content-Length:
      - '937'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-178","object":"chat.completion","created":1763576325,"model":"qwen3:latest","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"I
        need more details to check the weather. Could you please tell me the location
        (city and state) and whether you want the temperature in Celsius or Fahrenheit?","reasoning":"Okay,
        the user asked, \"What''s the weather?\" I need to figure out how to respond.
        Let me check the tools provided. There''s a get_weather function, but it requires
        parameters like location and unit. The user didn''t specify a location or
        unit. I should ask them for more details. Let me confirm if they want the
        weather for a specific city and whether they prefer Celsius or Fahrenheit.
        That way, I can call the function properly once I have all the necessary information.\n"},"finish_reason":"stop"}],"usage":{"prompt_tokens":161,"completion_tokens":136,"total_tokens":297}}

        '
  recorded_at: Wed, 19 Nov 2025 18:18:45 GMT
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"google/gemini-2.0-flash-001","messages":[{"role":"user","content":"What''s
        the weather?"}],"tools":[{"type":"function","function":{"name":"get_weather","description":"Get
        current weather for a location","parameters":{"type":"object","properties":{"location":{"type":"string","description":"City
        and state"},"unit":{"type":"string","enum":["celsius","fahrenheit"]}},"required":["location"]}}}]}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - OpenAI::Client/Ruby 0.35.1
      Host:
      - openrouter.ai
      X-Stainless-Arch:
      - arm64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - MacOS
      X-Stainless-Package-Version:
      - 0.35.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.4.7
      Content-Type:
      - application/json
      Authorization:
      - Bearer ACCESS_TOKEN
      Http-Referer:
      - https://example.com
      X-Title:
      - Dummy
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '402'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 19 Nov 2025 18:18:46 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Vary:
      - Accept-Encoding
      Permissions-Policy:
      - payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com"
        "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")
      Referrer-Policy:
      - no-referrer, strict-origin-when-cross-origin
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9a11b644cedeee17-SJC
    body:
      encoding: ASCII-8BIT
      string: "\n         \n{\"id\":\"gen-1763576326-GG7DVgNI8Zxze0XPOD7X\",\"provider\":\"Google\",\"model\":\"google/gemini-2.0-flash-001\",\"object\":\"chat.completion\",\"created\":1763576326,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"stop\",\"native_finish_reason\":\"STOP\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"To
        provide you with the weather, I need to know your location. Could you please
        tell me which city and state you're in?\\n\",\"refusal\":null,\"reasoning\":null}}],\"usage\":{\"prompt_tokens\":28,\"completion_tokens\":29,\"total_tokens\":57,\"prompt_tokens_details\":{\"cached_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"image_tokens\":0}}}"
  recorded_at: Wed, 19 Nov 2025 18:18:46 GMT
recorded_with: VCR 6.3.1
